<!DOCTYPE html>
<html>
    <head>
        <title>Notiz Hinzufügen</title>
        <meta charset="UTF-8">
    </head>
    <body>
        <h1>Notiz Hinzufügen</h1>
        <b>Titel:</b>
        <br>
        <input type="text" id="title">
        <br>
        <b>Text_Content:</b>
        <br>
        <textarea id="text_content" rows="5" cols="40"></textarea>
        <br>
        <input type="button"  id="submit_button" value="Hinzufügen" onclick="addNote()">
        <br>
        <a href="/index">Zurück zu Home</a>
    </body>
    <script>
        function addNote(){
            var title = document.getElementById("title").value;
            var text_Con = document.getElementById("text_content").value;
            if((title || text_Con) == ""){
                alert("Alle Felder müssen befüllt werden!")
                return;
            }

                var data = {
                    ID: 0, 
                    UserName: "",
                    Title: title,
                    Note_Text: text_Con
                };
            fetch("api/note",{
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(data)
            })
            .then(response =>{
                if(response.ok){
                    alert("Notiz wurde Hinzugefügt");
                }
                else{
                    alert("Notiz konnte nicht Hinzugefügt werden " +title +" "+ text_Con);
                }
            })
            .catch(error =>{
                alert("Es wurde ein Fehler abgefangen " + error);
            });
        }

    </script>
    
</html>